{% extends 'base.html' %}
{% load static date_format humanize %}
{% block content %}
  <section class="flex flex-col gap-y-8 container mx-auto">
    <div class="rounded-xl px-2 py-5 flex flex-col gap-4 items-center text-text">
      <p class="mb-5 text-center ">The First Space Exploration Literature Database focused on human space exploration</p>

      <img class="" src="{% static 'articles/img/Figure.png' %}" alt="" />
      <p class="text-sm sm:text-base text-center text-text mt-12">Write a short sentence to select papers, for example, Growing plants at the International Space Station, and press enter.</p>

      <form action="{% url 'articles' %}" method="GET" class="mt-2 relative group w-full max-w-4xl min-[390px]:px-1">
        <div class="absolute -inset-0.5 rounded-2xl blur bg-gradient-to-r from-spacepurple1 to-spacepurple2 opacity-55 group-hover:opacity-100 group-hover:duration-200 transition duration-1000 overflow-hidden">
          <div class="w-full h-48 bg-spaceblue blur-xl animate-rotating"></div>
        </div>

        <div class="relative flex justify-between items-stretch w-full bg-primary2 rounded-2xl p-2 border-2 ring-1 ring-text/40 border-text/40 bg-clip-padding">
          <input class="w-full bg-primary2 font-medium sm:text-lg placeholder:text-text/60 placeholder:font-medium sm:placeholder:text-lg p-4 sm:p-3 outline-none" type="text" placeholder="" name="query" minlength="2" required />
          <button type="submit" class="pt-1 sm:pb-1.5 px-5 rounded-xl bg-gradient-to-br from-spaceblue to-spacepurple2 text-white transition-all font-medium"><span class="hidden sm:block">Search</span><i class="fi fi-rr-search sm:hidden"></i></button>
        </div>
      </form>

      <div class="relative flex py-3 rounded-xl mb-12">
        <div class="absolute -z-20 -bottom-10 left-1/2 w-20 h-20 sm:w-32 md:w-60 rounded-full blur-3xl bg-spaceblue animate-blob"></div>
        <div class="absolute -z-20 -bottom-10 right-1/2 w-20 h-20 sm:w-32 md:w-60 rounded-full blur-3xl bg-spaceblue animate-blob animation-delay-2000"></div>
        <div class="relative rounded-2xl p-3 mb-3 bg-gradient-to-b from-transparent via-background/70 to-transparent">
          {% comment %} <div style="background-image: url({% static 'articles/img/galaxy1.png' %});" class="absolute w-full h-full top-0 left-0 -z-10 bg-cover bg-center opacity-40"></div> {% endcomment %}
          <p class="text-sm sm:text-base md:text-lg font-bold text-center leading-4 sm:p-3 max-w-6xl">
            With over <span class="text-spacegreen">24014</span> papers on topics such as <span class="text-violet-600">spaceflight, microgravity research, astrobiology, and exoplanet exploration</span>, the Space Exploration Literature Data warehouse is a valuable resource for researchers and enthusiasts alike.
          </p>
        </div>
      </div>
    </div>

    {% comment %}NEXT LAUNCH{% endcomment %}
    <div class="grid lg:grid-cols-2 gap-3 mb-8 sm:mb-12 sm:gap-6 min-[390px]:px-7 lg:px-20">
      <h2 class="text-lg sm:text-3xl my-2 text-center font-semibold text-text">Next Launch</h2>
      {% for launch in spacelaunchs.results %}
        <div class="flex rounded-xl shadow-md bg-primary text-text">
          <img src="{{ launch.image }}" alt="" class="w-1/3 object-cover rounded-s-xl" />
          <div class="p-2 sm:p-4 flex flex-col justify-between">
            <span class="rounded text-sm md:text-base text-text">{{ launch.launch_service_provider.name }}</span>
            {% comment %} <span class="text-red-600 font-semibold rounded p-0.5">&circledcirc; Live</span> {% endcomment %}
            <p class="font-semibold sm:text-xl">{{ launch.name }}</p>
            <p class="text-sm sm:text-base">{{ launch.pad.name }}, {{ launch.pad.location.name }}</p>
            <p class="text-sm sm:text-base">{{ launch.window_start }}</p>
          </div>
        </div>
      {% endfor %}
    </div>

    {% comment %}LATEST NEWS{% endcomment %}
    <h2 class="text-xl sm:text-3xl mt-3 sm:mb-2 text-center font-semibold text-text">Latest News</h2>
    <div class="grid mb-2 sm:mb-12 sm:gap-6 sm:px-3 md:px-16">
      <div class="splide overflow-hidden" id="splide2">
        <div class="splide__track">
          <ul class="splide__list flex">
            {% for news in space_news.results %}
              <li class="splide__slide">
                <div class="flex flex-col w-full h-full sm:h-4/5 max-w-max rounded rounded-t-lg bg-primary text-text shadow-md">
                  <img src="{{ news.image_url }}" alt="" class="h-4/6 object-cover rounded-t-lg" />
                  <div class="flex flex-col justify-between px-3 py-2 flex-grow">
                    <h3 class="text-center sm:text-lg lg:text-xl line-clamp-1 truncate">{{ news.title }}</h3>
                    <p class="text-center text-sm line-clamp-2">{{ news.summary }}</p>
                    <span class="text-sm sm:text-base">{{ news.published_at|format_published_at|naturalday }} | <a href="{{ news.url }}" class="text-blue-500">{{ news.news_site }}. Read More</a></span>
                  </div>
                </div>
              </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>

    {% comment %}Highlighted Papers {% endcomment %}
    <div class="flex flex-col lg:flex-row gap-4 w-full">
      <div class="shadow-md rounded-xl m-3 p-1 lg:p-7 min-[390px]:m-6 sm:first-letter:m-7 flex flex-col items-center lg:w-1/2 bg-gradient-to-r from-primary2 to-spacepurple2/10 border border-spacepurple2/50 text-text">
        <p class="my-3 min-[390px]:text-base text-center">Highlighted Papers</p>
        <span class="h-px bg-zinc-800 w-full"></span>

        <p class="text-sm font-semibold text-center my-4">
          Thorne, Steve. <a href="" class="text-blue-700 hover:underline">Modeling the role of gravitation in metabolic processes.</a> Communicative & Integrative Biology 14.1 (2021): 115-135.
        </p>

        <p class="text-sm font-semibold text-center my-4">
          Paul, Anna-Lisa et al., <a href="" class="text-blue-700 hover:underline">Plants grown in Apollo lunar regolith present stress-associated transcriptomes that inform prospects for lunar exploration.</a> Communications biology 5.1 (2022): 382.
        </p>

        <p class="text-sm font-semibold text-center my-4">
          Cottin, Hervé, et al. <a href="" class="text-blue-700 hover:underline">Astrobiology and the possibility of life on earth and elsewhere….</a> Space Science Reviews 209 (2017): 1-42.
        </p>

        <p class="text-sm font-semibold text-center my-4">
          Kobayashi, Kensei, et al. <a href="" class="text-blue-700 hover:underline">Space exposure of amino acids and their precursors during the Tanpopo Mission.</a> Astrobiology 21.12 (2021): 1479-1493.
        </p>

        <p class="text-sm font-semibold text-center my-4">
          Schröder, Christian, et al. <a href="" class="text-blue-700 hover:underline">Amazonian chemical weathering rate derived from stony meteorite finds at Meridiani Planum on Mars.</a> Nature Communications 7.1 (2016): 13459.
        </p>
      </div>

      <div class="p-1 min-[390px]:m-6 lg:w-1/2 text-text">
        <p class="my-5 text-center font-semibold min-[390px]:text-xl">Live Access</p>
        <script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=5h6ik86yb3o&amp;m=2&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=33&amp;v0=50&amp;z=11" async="async"></script>
      </div>
    </div>
  </section>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const inputField = document.querySelector('input[name="query"]')
      const suggestions = ['Search for space exploration research papers', 'Astrobiology', 'Microgravity', 'Space habitats', 'Lunar missions', 'Exoplanet exploration']
      let index = 0
    
      function typeEffect() {
        const suggestion = suggestions[index]
        let suggestionIndex = 0
    
        let typing = setInterval(function () {
          if (suggestionIndex <= suggestion.length) {
            inputField.placeholder = suggestion.substring(0, suggestionIndex)
            suggestionIndex++
          } else {
            clearInterval(typing)
            setTimeout(function () {
              index = (index + 1) % suggestions.length // Reset index to 0 if it reaches the end
              typeEffect()
            }, 1000) // Delay before showing the next suggestion
          }
        }, 80) // Adjust the delay here for typing speed
      }
    
      typeEffect()
    })
  </script>
  {% include 'articles/slider_build.html' %}
{% endblock %}
